#!/bin/bash
if [ $(cat $HOME/.colors) = "light" ]; then exit 0; fi
echo "light" > $HOME/.colors

cp $HOME/.config/termite/config-light $HOME/.config/termite/config
killall -USR1 termite

cp $HOME/.xboomx/config-light $HOME/.xboomx/config

nitrogen --set-zoom-fill ~/downloads/wallpapers/2443.jpg

herbstclient set window_border_width 3
herbstclient set frame_border_width  3
herbstclient set frame_border_active_color  '#00AF2B'
herbstclient set window_border_active_color '#00AF2B'
herbstclient set frame_border_normal_color  '#EEEEEE'
herbstclient set window_border_normal_color '#EEEEEE'

VIMS=`vim --serverlist`
for vim in $VIMS; do
    vim --servername $vim --remote-send '<Esc>:set background=light<CR>:colorscheme goodmorning<CR>'
done



if [ ! "$1" = "nopanel" ]; then
    echo "restarting panel..."
    herbstclient emit_hook quit_panel
    sleep 1
    panel=~/.config/herbstluftwm/panel.sh
    for monitor in $(herbstclient list_monitors | cut -d: -f1) ; do
        # start it on each monitor
        echo $panel $monitor
        "$panel" $monitor &
    done
fi
